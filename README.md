# Pain Radar ðŸŽ¯

**AI-Powered Product Idea Generator** - Automatically discover and validate product ideas from Reddit pain points.

> **ðŸ¤– AI-Generated Project**: This project was 97% generated by AI and built in approximately 15 hours total development time.

## Overview

Pain Radar is an intelligent system that monitors Reddit discussions, identifies pain points and frustrations, and generates validated product ideas using AI agents. The application uses OpenAI's GPT-4 with structured outputs to analyze Reddit posts and comments, extract actionable insights, and score product opportunities.

## Key Features

- ðŸ” **Automated Reddit Monitoring** - Tracks multiple subreddits for trending discussions
- ðŸ¤– **AI-Powered Analysis** - Uses GPT-4 to identify pain points and validate ideas
- ðŸ“Š **Smart Scoring System** - Ranks ideas based on market potential, feasibility, and demand
- ðŸ“§ **Email Digests** - Sends curated ideas to subscribers based on their interests
- ðŸŽ¨ **Modern UI** - Beautiful, responsive interface built with Next.js and Tailwind CSS
- ðŸ” **Secure Authentication** - Powered by Supabase Auth

## Tech Stack

- **Frontend**: Next.js 15, React, Tailwind CSS, shadcn/ui
- **Backend**: Next.js API Routes, TypeScript
- **AI**: OpenAI GPT-4 with Structured Outputs
- **Database**: Supabase (PostgreSQL)
- **Queue**: Redis (for job processing)
- **Email**: Resend
- **Deployment**: Vercel

## Prerequisites

- Node.js 18+ and npm
- Supabase account
- OpenAI API key
- Reddit API credentials (optional, for authenticated requests)
- Resend API key (for email functionality)
- Redis instance (Upstash recommended)

## Environment Variables

Create a `.env.local` file with the following variables:

```env
# Supabase
NEXT_PUBLIC_SUPABASE_URL=your_supabase_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key

# OpenAI
OPENAI_API_KEY=your_openai_api_key

# Redis (Upstash)
UPSTASH_REDIS_REST_URL=your_redis_url
UPSTASH_REDIS_REST_TOKEN=your_redis_token

# Resend (Email)
RESEND_API_KEY=your_resend_api_key

# Cron Secret (for securing cron endpoints)
CRON_SECRET=your_secure_random_secret

# Reddit API (Optional)
REDDIT_CLIENT_ID=your_reddit_client_id
REDDIT_CLIENT_SECRET=your_reddit_client_secret
REDDIT_USER_AGENT=your_user_agent
```

## Installation

1. **Clone the repository**

   ```bash
   git clone https://github.com/yourusername/pain-radar.git
   cd pain-radar
   ```

2. **Install dependencies**

   ```bash
   npm install
   ```

3. **Set up environment variables**
   - Copy `.env.example` to `.env.local` (if provided)
   - Fill in all required environment variables

4. **Run database migrations** (if applicable)

   ```bash
   # Set up Supabase locally or use the hosted version
   # Run migrations to create necessary tables
   ```

5. **Start the development server**
   ```bash
   npm run dev
   ```

## Cron Job Setup (REQUIRED)

âš ï¸ **Important**: This application requires a cron job to process the queue and generate ideas.

### Using External Cron Service (Recommended for Free Tier)

Since Vercel's free tier only triggers cron jobs every 5 minutes, we recommend using an external service:

1. **Sign up at [cron-job.org](https://console.cron-job.org/)** (free)

2. **Create a new cron job** with the following settings:
   - **URL**: `https://your-app.vercel.app/api/queue/process`
   - **Schedule**: `* * * * *` (every minute)
   - **HTTP Method**: `POST`
   - **Custom Headers**: Add header `x-cron-secret` with the value from your `CRON_SECRET` environment variable

3. **Enable the job** and verify it's running

### Alternative: Vercel Cron (Paid Plans)

If you're on a Vercel paid plan, the built-in cron job will work automatically:

```json
// vercel.json
{
  "crons": [
    {
      "path": "/api/queue/process",
      "schedule": "* * * * *"
    }
  ]
}
```

The endpoint is already configured with security headers and requires the `CRON_SECRET` to authenticate requests.

## Available Cron Endpoints

All cron endpoints require the `x-cron-secret` header for authentication:

1. **`POST /api/queue/process`** - Processes jobs in the queue (recommended for production)
   - Handles both coordinator and post_processor jobs
   - Implements proper job queuing and error handling

2. **`POST /api/cron/generate`** - Generates ideas from Reddit (legacy, for direct generation)
   - Fetches Reddit posts and generates ideas in a single request

3. **`POST /api/cron/email`** - Sends email digests to subscribers
   - Configure separately if you want automated email digests

## Development

```bash
# Run development server
npm run dev

# Build for production
npm run build

# Start production server
npm start

# Run linter
npm run lint
```

## Database Schema

### Supabase Types

To generate TypeScript types from your Supabase schema:

```bash
supabase gen types typescript --linked > types/supabase.ts

# or

npx supabase gen types typescript --linked > types/supabase.ts
```

## Project Structure

```
pain-radar/
â”œâ”€â”€ agents/          # AI workflow orchestration
â”œâ”€â”€ app/             # Next.js app directory
â”‚   â”œâ”€â”€ (auth)/      # Authentication pages
â”‚   â”œâ”€â”€ (dashboard)/ # Dashboard pages
â”‚   â”œâ”€â”€ (marketing)/ # Landing pages
â”‚   â””â”€â”€ api/         # API routes
â”œâ”€â”€ components/      # React components
â”œâ”€â”€ lib/             # Utility libraries
â”‚   â”œâ”€â”€ auth/        # Authentication logic
â”‚   â”œâ”€â”€ email/       # Email sending
â”‚   â”œâ”€â”€ openai/      # OpenAI integration
â”‚   â”œâ”€â”€ queue/       # Job queue operations
â”‚   â”œâ”€â”€ reddit/      # Reddit API client
â”‚   â””â”€â”€ supabase/    # Supabase clients
â”œâ”€â”€ types/           # TypeScript type definitions
â””â”€â”€ public/          # Static assets
```

## How It Works

1. **Reddit Monitoring**: The system monitors configured subreddits for trending posts
2. **AI Analysis**: Each post is analyzed by GPT-4 to extract pain points and validate potential ideas
3. **Idea Generation**: The AI generates structured product ideas with scores and reasoning
4. **Queue Processing**: Jobs are queued and processed one at a time to manage API limits
5. **Email Delivery**: Subscribers receive curated ideas based on their topic preferences

## Contributing

Contributions are welcome! Please feel free to submit a Pull Request.

## License

MIT

## Acknowledgments

This project was built with the assistance of AI (Claude/GPT-4), demonstrating the power of AI-assisted development in creating full-stack applications.
